@import "@monorepo/design-system/styles/fonts";
@import "tailwindcss";
@source "../../../../packages/design-system/src";
@import "@monorepo/design-system/styles/full";

/* ── Starlight Theme Overrides ───────────────────────────────────────────── */

:root {
	/* Typography */
	--sl-font-family-sans: var(--font-body);
	--sl-font-family-mono: var(--font-mono);

	/* Backgrounds - Enforce Zinc scale */
	--sl-color-bg: var(--color-background);
	--sl-color-bg-nav: var(--color-background);
	--sl-color-bg-sidebar: var(--color-background);
	--sl-color-bg-inline-code: var(--color-muted);

	/* Borders */
	--sl-color-hairline-light: var(--color-border);
	--sl-color-hairline: var(--color-border);

	/* Text */
	--sl-color-white: var(--color-foreground);
	--sl-color-gray-1: var(--color-foreground);
	--sl-color-gray-2: var(--color-muted-foreground);
	--sl-color-gray-3: var(--color-muted-foreground);
	--sl-color-gray-4: var(--color-muted-foreground);
	--sl-color-gray-5: var(--color-muted-foreground);
	--sl-color-gray-6: var(--color-muted);

	/* Accent / Links */
	/* Active item background - make it very subtle zinc/primary mix so text pops */
	--sl-color-accent-low: color-mix(in oklch, var(--color-primary), transparent 90%);
	--sl-color-accent: var(--color-primary);
	--sl-color-accent-high: var(--color-primary);
	
	/* Links */
	--sl-color-text-accent: var(--color-primary);
	--sl-color-text-invert: var(--color-primary-foreground);
}

/* ── Dark Mode Compatibility ─────────────────────────────────────────────── */
/* Starlight uses data-theme="dark", Design System uses .dark class.
   We explicitly map the variables here so we don't need a JS sync script. */

[data-theme='dark'] {
	--color-background: oklch(0.141 0.01 264.5);
	--color-foreground: oklch(0.985 0.002 247.8);
	--color-card: oklch(0.21 0.014 264.5);
	--color-card-foreground: oklch(0.985 0.002 247.8);

	--color-primary: oklch(68% 0.16 45);
	--color-primary-foreground: oklch(18% 0 0);

	--color-secondary: oklch(0.27 0.02 264.5);
	--color-secondary-foreground: oklch(0.985 0 0);

	--color-destructive: oklch(45% 0.16 25);
	--color-destructive-foreground: oklch(98% 0 0);

	--color-success: oklch(70% 0.14 150);
	--color-success-foreground: oklch(18% 0 0);

	--color-warning: oklch(78% 0.16 85);
	--color-warning-foreground: oklch(18% 0 0);

	--color-border: oklch(0.27 0.02 264.5);
	--color-input-background: oklch(0.141 0.005 285.8);
	--color-input: oklch(0.37 0.025 264.5);
	--color-input-hover: oklch(0.442 0.029 264.5);
	--color-muted: oklch(0.21 0.014 264.5);
	--color-muted-foreground: oklch(0.705 0.021 264.5);
	--color-accent: oklch(0.27 0.02 264.5);
	--color-ring: oklch(68% 0.16 45);

	--color-led-off: oklch(0.37 0.025 264.5);
	--color-led-on: oklch(68% 0.16 45);

	color-scheme: dark;
}

/* ── Precision Industrial Tweaks ─────────────────────────────────────────── */

/* Remove Starlight's soft shadows and rounded corners */
:root {
	--sl-shadow-sm: none;
	--sl-shadow-md: none;
	--sl-shadow-lg: 0 4px 12px -2px rgba(0, 0, 0, 0.2); /* Keep for modals only */
}

/* Sidebar styling */
.sidebar-pane {
	border-right: 1px solid var(--color-border) !important;
	background-color: var(--color-background) !important;
}

/* Code blocks */
.expressive-code .frame {
	border-radius: 2px !important;
	border: 1px solid var(--color-border) !important;
}

/* Main content adjustments */
.content-panel {
	border: none !important;
	box-shadow: none !important;
}

/* Typography tweaks for docs readability */
.sl-markdown-content p {
	font-family: var(--font-body);
	line-height: 1.7;
}

.sl-markdown-content h1,
.sl-markdown-content h2,
.sl-markdown-content h3 {
	font-family: var(--font-heading);
	letter-spacing: -0.02em;
	text-transform: none; /* Starlight defaults are fine, but ensure heading font */
}